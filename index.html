<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mary &amp; Chima — Wedding Reception</title>
  <meta name="description" content="Mary & Chima Wedding Reception — 4 October 2025 — Golden Hall, Tallinn" />
  <meta name="keywords" content="Mary Chima, wedding, reception, Tallinn, Estonia, RSVP, celebration" />
  <meta name="author" content="Mary & Chima" />
  <meta property="og:title" content="Mary & Chima Wedding Reception" />
  <meta property="og:description" content="Join us for our special day on 4 October 2025 in Tallinn, Estonia" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://maryandchima.love" />
  <meta property="og:image" content="https://maryandchima.love/assets/monogram_favicon_mary_chima.png" />
  <meta property="og:locale" content="en_US" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Mary & Chima Wedding Reception" />
  <meta name="twitter:description" content="Join us for our special day on 4 October 2025 in Tallinn, Estonia" />
  <meta name="twitter:image" content="https://maryandchima.love/assets/monogram_favicon_mary_chima.png" />
  <link rel="icon" href="assets/monogram_favicon_mary_chima.png" type="image/png" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Clean, elegant header -->
  <header class="header" id="home" role="banner" aria-label="Header">
    <!-- Navigation bar -->
    <div class="navbar">
      <div class="container">
        <a href="#home" class="brand">
          <img src="assets/monogram_favicon_mary_chima.png" alt="Monogram" loading="lazy" decoding="async" />
          <span>Mary &amp; Chima</span>
        </a>

        <button class="nav__toggle" aria-controls="site-nav" aria-expanded="false" aria-label="Toggle menu" tabindex="0">☰</button>

        <nav id="site-nav" class="nav" aria-label="Primary" tabindex="-1">
          <a href="#story">Our Story</a>
          <a href="#details">The Day</a>
          <a href="#rsvp">RSVP</a>
          <a href="#calendar">Add to Calendar</a>
          <a href="#photos">Photos</a>
        </nav>
      </div>
    </div>

    <!-- Elegant title section -->
    <div class="header__content">
      <div class="container">
        <div class="header__kicker">
          <span class="pill">Wedding Reception</span>
          <span class="dot">•</span>
          <span>4 October 2025</span>
          <span class="dot">•</span>
          <span>Tallinn</span>
        </div>

        <h1 class="header__title enhanced-title">Mary &amp; Chima</h1>

        <p class="header__subtitle">Saturday, 4 October 2025 • 5:00 PM • Tallinn</p>

        <div id="countdown" class="countdown" aria-live="polite" aria-label="Countdown timer"></div>

        <a href="#rsvp-modal" class="btn btn--primary" id="rsvp-hero-btn">RSVP Here</a>
      </div>
    </div>
  </header>


  <main>
    <section id="story" class="section section--light">
  <div class="container">
    <div class="story card story--ornate">
      <!-- Left: photo + badges -->
      <div class="story__media">
        <div class="story__photo" role="img" aria-label="Mary & Chima"></div>
        <div class="story__badges">
          <span class="badge">🇳🇬 Abakaliki</span>
          <span class="badge">🇿🇦 CapeTown</span>
          <span class="badge">🇪🇪 Tallinn</span>
        </div>
      </div>

      <!-- Right: text content -->
      <div class="story__content">
        <h2>Our Story</h2>
        <p class="lead">
          A journey from 🇳🇬 and 🇿🇦, celebrating our love in 🇪🇪. We’re so grateful to share this moment with our closest people.
        </p>

        <blockquote class="story__quote">
          “Two cities, one heartbeat. Forever starts here.”
        </blockquote>

        <ul class="story__milestones">
          <li><span>2023</span> Paths crossed and everything changed.</li>
          <li><span>2024</span> He asked. She said yes.</li>
          <li><span>2025</span> We celebrate in Tallinn with you.</li>
        </ul>

        <div class="story__signoff">— Mary &amp; Chima</div>
      </div>
    </div>
  </div>
</section>


    <section id="details" class="section">
      <div class="container grid-2">
        <div class="card card--day">
  <div class="card__header">
    <h3>The Wedding Day</h3>
    <span class="tag">Reception</span>
  </div>

  <div class="day-badge" aria-label="Date & time">
    <div class="day-badge__date">
      <b>Sat</b>
      <span>04</span>
      <small>Oct 2025</small>
    </div>
    <div class="day-badge__time">
      <b>5:00 PM</b>
      <small>Doors open • Tallinn</small>
    </div>
  </div>

  <div class="day-rows">
    <div class="row">
      <div class="ico" aria-hidden="true">📍</div>
      <div class="txt"><strong>Venue:</strong> Raekoja plats 5, Tallinn</div>
    </div>
    <div class="row">
      <div class="ico" aria-hidden="true">👗</div>
      <div class="txt"><strong>Dress Code:</strong> Formal with a touch of black or white</div>
    </div>
    <div class="row">
      <div class="ico" aria-hidden="true">🗓️</div>
      <div class="txt"><strong>Plan:</strong> Reception • Dinner • <em>Dinner and dancing to follow</em></div>
    </div>
  </div>

  <div class="actions">
  </div>
</div>

        <div class="card card--timeline">
  <div class="card__header">
    <h3>Evening Timeline</h3>
    <span class="tag">Schedule</span>
  </div>

  <ol class="tl">
    <li class="tl__item">
      <time>5:00 PM</time>
      <span class="tl__dot" aria-hidden="true"></span>
      <p>Guest arrival &amp; welcome drinks</p>
    </li>

    <li class="tl__item">
      <time>5:30 PM</time>
      <span class="tl__dot" aria-hidden="true"></span>
      <p>Couple’s entrance</p>
    </li>

    <li class="tl__item">
      <time>6:00 PM</time>
      <span class="tl__dot" aria-hidden="true"></span>
      <p>Dinner service</p>
    </li>

    <li class="tl__item">
      <time>7:30 PM</time>
      <span class="tl__dot" aria-hidden="true"></span>
      <p>Toasts</p>
    </li>

    <li class="tl__item">
      <time>8:30 PM</time>
      <span class="tl__dot" aria-hidden="true"></span>
      <p>Cake cutting &amp; dancing</p>
    </li>

    <li class="tl__item">
      <time>10:00 PM</time>
      <span class="tl__dot" aria-hidden="true"></span>
      <p>After-party with DJ</p>
    </li>
  </ol>
</div>

      </div>
    </section>

    <section id="rsvp" class="section section--light">
      <div class="container grid-2">
        <div class="card card--rsvp">
  <div class="card__header">
    <h3>RSVP</h3>
    <span class="tag">Please respond</span>
  </div>

  <div class="rsvp-deadline">
    <span>RSVP by <strong>20 September 2025</strong></span>
  </div>

  <p class="rsvp-intro">Please confirm your attendance so we can prepare for you.</p>

  <ul class="checklist gold">
    <li>Let us know if you're bringing family (+1/+2 names)</li>
    <li>Share any dietary needs</li>
  </ul>

  <div class="actions">
    <a class="btn btn--primary" href="#rsvp-modal" onclick="openRSVPModal()">
      RSVP Now
    </a>
    <a class="btn btn--ghost" href="#rsvp-modal" onclick="openRSVPModal()">
      Edit my response
    </a>
  </div>

  <p class="hint">Complete your RSVP directly on our website.</p>
</div>
        <div class="card card--song">
  <div class="card__header">
    <h3>Request a Song</h3>
    <span class="tag">DJ Playlist</span>
  </div>

  <p class="song-text">Tell our DJ a track that will get you dancing!</p>

  <div class="chips">
    <span class="chip">Afrobeats</span>
    <span class="chip">Amapiano</span>
    <span class="chip">Classic R&amp;B</span>
    <span class="chip">Highlife</span>
  </div>

  <div class="actions">
    <a class="btn btn--primary" href="#song-modal" onclick="openSongModal()">
      Suggest a Song
    </a>
    <a class="btn btn--ghost" href="#song-modal" onclick="openSongModal()">
      Add another
    </a>
  </div>

  <p class="hint">Requests close on <strong>30 Sept 2025</strong>. We'll do our best to include your favourites!</p>
</div>

      </div>
    </section>

    <section id="calendar" class="section">
      <div class="container grid-2">
        <div class="card card--calendar">
  <div class="card__header">
    <h3>Add to Calendar</h3>
    <span class="tag">One-click</span>
  </div>

  <!-- date/time badge to reinforce details -->
  <div class="cal-badge" aria-label="Date & time">
    <div class="cal-badge__date">
      <b>Sat</b>
      <span>04</span>
      <small>Oct 2025</small>
    </div>
    <div class="cal-badge__time">
      <b>5:00 PM</b>
      <small>Tallinn</small>
    </div>
  </div>

  <p class="cal-intro">Add the reception to your calendar in one click.</p>

  <div class="actions">
    <a class="btn btn--primary"
       href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Mary%20%26%20Chima%20Wedding%20Reception&dates=20251004T140000Z%2F20251004T200000Z&details=Join%20us%20as%20we%20celebrate%20the%20marriage%20of%20Mary%20%26%20Chima.%20An%20evening%20of%20love%2C%20laughter%2C%20dinner%2C%20and%20dancing.%20Formal%20attire%20requested%20with%20a%20touch%20of%20black%20or%20white.&location=Golden%20Hall%2C%20Raekoja%20plats%205%2C%20Tallinn%2C%20Estonia&ctz=Europe%2FTallinn"
       target="_blank" rel="noopener">Add to Google Calendar</a>
  </div>

  <div class="qr-grid">
    <figure class="qr-card">
      <img src="assets/qr_google.png" alt="QR: Add to Google Calendar" loading="lazy" decoding="async" />
      <figcaption>Add to Google Calendar</figcaption>
    </figure>
  </div>

</div>

        <div class="card card--venue">
  <div class="card__header">
    <h3>Venue &amp; Getting There</h3>
    <span class="tag">Old Town • Tallinn</span>
  </div>

  <p class="venue-text">
    Raekoja plats 5, in the heart of Tallinn Old Town.
  </p>
  <ul class="bullet gold">
    <li>Arrive a little early to enjoy the square.</li>
    <li>Ride-share drop-off: Raekoja plats (Town Hall Square).</li>
  </ul>

  <div class="map-embed">
    <iframe
      title="Tallinn — map"
      loading="lazy"
      referrerpolicy="no-referrer-when-downgrade"
      src="https://www.google.com/maps?q=Raekoja%20plats%205%2C%20Tallinn%2C%20Estonia&output=embed">
    </iframe>
  </div>

  <div class="actions">
    <a class="btn btn--primary" href="https://maps.google.com/?q=Raekoja%20plats%205%2C%20Tallinn%2C%20Estonia" target="_blank" rel="noopener">Open Map</a>
    <a class="btn btn--ghost" href="https://maps.apple.com/?address=Raekoja%20plats%205,%20Tallinn,%20Estonia" target="_blank" rel="noopener">Open in Apple Maps</a>
  </div>
</div>

      </div>
    </section>

    <section id="photos" class="section section--light">
      <div class="container grid-2">
        <div class="card card--photos">
          <div class="card__header">
            <h3>Share Your Photos</h3>
            <span class="tag">Memories</span>
          </div>
          
          <p class="photos-text">Help us capture every memory. Upload your photos directly or share links from the evening to our beautiful gallery.</p>
          
          <ul class="bullet gold">
            <li>Upload photos directly from your device</li>
            <li>Share links from Google Photos, iCloud, etc.</li>
            <li>Browse all shared memories in our gallery</li>
            <li>Organized by ceremony, reception, and dancing</li>
          </ul>
          
          <div class="actions">
            <a class="btn btn--primary" href="#photo-modal" onclick="openPhotoModal('share')">
              📷 Share Photos
            </a>
            <a class="btn btn--ghost" href="#photo-modal" onclick="openPhotoModal('gallery')">
              🖼️ View Gallery
            </a>
          </div>
          
          <p class="hint">Photos are available during and after the celebration for everyone to enjoy.</p>
        </div>
        <div class="card card--wishes">
          <div class="card__header">
            <h3>Leave Your Wishes</h3>
            <span class="tag">Blessings</span>
          </div>
          
          <p class="wishes-text">Share a blessing, prayer, or heartfelt message for Mary &amp; Chima. We'll read these after the celebrations.</p>
          
          <ul class="bullet gold">
            <li>Share heartfelt blessings and prayers</li>
            <li>Give marriage advice and wisdom</li>
            <li>Share your favorite memories together</li>
            <li>Send personal messages of love</li>
          </ul>
          
          <div class="actions">
            <a class="btn btn--primary" href="#wishes-modal" onclick="openWishesModal()">
              💝 Send a Wish
            </a>
          </div>
          
          <p class="hint">Your heartfelt messages mean the world to us and will be treasured forever.</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Debug Console for Error Reporting -->
  <div id="debug-console" style="position: fixed; bottom: 20px; right: 20px; z-index: 9999; display: none;">
    <button id="debug-toggle" onclick="toggleDebugPanel()" style="
      background: #ff6b6b; 
      color: white; 
      border: none; 
      padding: 12px 16px; 
      border-radius: 25px; 
      cursor: pointer; 
      font-weight: bold;
      box-shadow: 0 4px 12px rgba(255,107,107,0.3);
      animation: pulse 2s infinite;
    ">
      🐛 Debug Panel
    </button>
    
    <div id="debug-panel" style="
      position: absolute;
      bottom: 60px;
      right: 0;
      background: white;
      border: 2px solid #ff6b6b;
      border-radius: 12px;
      padding: 20px;
      width: 300px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.2);
      display: none;
    ">
      <h4 style="margin: 0 0 15px 0; color: #ff6b6b;">🔧 Debug Tools</h4>
      <p style="font-size: 14px; color: #666; margin-bottom: 15px;">
        Having upload issues? Download debug logs to help us fix the problem.
      </p>
      
      <div id="debug-stats" style="background: #f8f9fa; padding: 10px; border-radius: 6px; margin-bottom: 15px; font-size: 12px;">
        <div>Errors: <span id="error-count">0</span></div>
        <div>Network Requests: <span id="request-count">0</span></div>
        <div>Last Activity: <span id="last-activity">None</span></div>
      </div>
      
      <button onclick="downloadDebugLogs()" style="
        background: #007bff;
        color: white;
        border: none;
        padding: 10px 16px;
        border-radius: 6px;
        width: 100%;
        cursor: pointer;
        margin-bottom: 10px;
      ">
        📥 Download Debug Logs
      </button>
      
      <button onclick="clearDebugLogs()" style="
        background: #6c757d;
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 6px;
        width: 100%;
        cursor: pointer;
        font-size: 12px;
      ">
        🗑️ Clear Logs
      </button>
    </div>
  </div>

  <style>
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
  </style>

  <footer class="footer">
    <div class="container footer__inner">
      <img src="assets/monogram_favicon_mary_chima.png" alt="Mary &amp; Chima monogram" loading="lazy" decoding="async" />
      <p>Mary &amp; Chima • Tallinn • 4 Oct 2025</p>
    </div>
  </footer>

  <!-- Wishes Modal -->
  <div id="wishes-modal" class="modal" role="dialog" aria-labelledby="wishes-modal-title" aria-hidden="true">
    <div class="modal__backdrop"></div>
    <div class="modal__content">
      <div class="modal__header">
        <h2 id="wishes-modal-title">Leave Your Wishes</h2>
        <button class="modal__close" aria-label="Close wishes form" tabindex="0">&times;</button>
      </div>
      
      <div class="modal__body">
        <p class="modal__intro">Share a blessing, prayer, or heartfelt message for Mary & Chima. Your words mean the world to us.</p>
        
        <form class="wishes-form" id="wishes-form">
          <div class="form-group">
            <label for="wishes-name">Your Name *</label>
            <input type="text" id="wishes-name" name="name" required placeholder="Enter your name">
          </div>
          
          <div class="form-group">
            <label for="wishes-email">Email Address *</label>
            <input type="email" id="wishes-email" name="email" required placeholder="your.email@example.com">
          </div>
          
          <div class="form-group">
            <label for="wishes-type">Type of Message</label>
            <select id="wishes-type" name="message_type">
              <option value="blessing">Blessing</option>
              <option value="prayer">Prayer</option>
              <option value="wish">Well Wishes</option>
              <option value="advice">Marriage Advice</option>
              <option value="memory">Shared Memory</option>
              <option value="other">Other</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="wishes-message">Your Message *</label>
            <textarea id="wishes-message" name="message" required placeholder="Share your heartfelt message, blessing, or advice for Mary & Chima..." rows="5"></textarea>
          </div>
          
          <div class="form-group">
            <label for="wishes-relationship">Your Relationship to the Couple (Optional)</label>
            <input type="text" id="wishes-relationship" name="relationship" placeholder="e.g., Friend, Family, Colleague">
          </div>
          
          <div class="form-actions">
            <button type="submit" class="btn btn--primary">Send Wishes 💝</button>
            <button type="button" class="btn btn--ghost modal-close-btn">Cancel</button>
          </div>
        </form>
        
        <div class="wishes-success" id="wishes-success" style="display: none;">
          <div class="success-icon">💝</div>
          <h3>Wishes Sent!</h3>
          <p>Thank you for your heartfelt message! Mary & Chima will treasure your words.</p>
          <button class="btn btn--primary modal-close-btn">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Photo Sharing Modal -->
  <div id="photo-modal" class="modal" role="dialog" aria-labelledby="photo-modal-title" aria-hidden="true">
    <div class="modal__backdrop"></div>
    <div class="modal__content photo-modal-content">
      <!-- Tab Navigation -->
      <div class="modal__tabs">
        <button class="tab-btn active" onclick="switchPhotoTab('share')">Share Photos</button>
        <button class="tab-btn" onclick="switchPhotoTab('gallery')">View Gallery</button>
      </div>
      
      <!-- Share Photos Tab -->
      <div id="share-tab" class="tab-content active">
        <div class="modal__header">
          <h2 id="photo-modal-title">Share Your Photos</h2>
          <button class="modal__close" aria-label="Close photo sharing form" tabindex="0">&times;</button>
        </div>
        
        <div class="modal__body">
          <p class="modal__intro">Help us capture every memory! Share your favorite moments from our special day.</p>
          
          <div class="photo-sharing-tips" style="background: #f8f9fa; padding: 16px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #c8a951;">
            <h4 style="margin: 0 0 8px 0; color: #c8a951; font-size: 14px; font-weight: 600;">📸 Photo Sharing Tips</h4>
            <ul style="margin: 0; padding-left: 16px; font-size: 13px; color: #666;">
              <li><strong>URL Method:</strong> Upload to Google Photos, iCloud, or Dropbox first, then share the public link</li>
              <li><strong>File Upload:</strong> Click "Upload Files" to directly select photos from your device (up to 10MB each)</li>
              <li><strong>Access Issues:</strong> Make sure shared links are public and accessible to everyone</li>
            </ul>
          </div>
          
          <!-- Upload Method Selection -->
          <div class="upload-method-selector">
            <div class="method-option active" onclick="selectUploadMethod('url')">
              <div class="method-icon">🔗</div>
              <div class="method-title">Share URL</div>
              <div class="method-desc">Link from Google Photos, iCloud, etc.</div>
            </div>
            <div class="method-option" onclick="selectUploadMethod('file')" style="cursor: pointer;">
              <div class="method-icon">📁</div>
              <div class="method-title">Upload Files</div>
              <div class="method-desc">Click to select files from your device</div>
            </div>
          </div>
          
          <form class="photo-form" id="photo-form">
            <div class="form-group">
              <label for="photo-sharer-name">Your Name *</label>
              <input type="text" id="photo-sharer-name" name="name" required placeholder="Enter your name">
            </div>
            
            <div class="form-group">
              <label for="photo-sharer-email">Email Address *</label>
              <input type="email" id="photo-sharer-email" name="email" required placeholder="your.email@example.com">
            </div>
            
            <!-- URL Upload Method -->
            <div id="url-upload" class="upload-section active">
              <div class="form-group">
                <label for="photo-url">Photo/Video URL *</label>
                <input type="url" id="photo-url" name="photo_url" placeholder="https://photos.app.goo.gl/your-photo-link">
                <small style="color: #666; font-size: 12px; line-height: 1.4; margin-top: 4px; display: block;">
                  ✅ <strong>Google Photos:</strong> Share album → Copy link → Make sure it's "Anyone with link"<br>
                  ✅ <strong>iCloud:</strong> Create shared album → Copy link<br> 
                  ✅ <strong>Dropbox:</strong> Upload → Share → Copy public link<br>
                  ⚠️ <strong>Note:</strong> Photos may not display properly if links require sign-in, but they'll still be saved
                </small>
              </div>
            </div>
            
            <!-- File Upload Method -->
            <div id="file-upload" class="upload-section">
              <div class="form-group">
                <label for="photo-files">Upload Photos/Videos *</label>
                <div class="file-upload-area" onclick="document.getElementById('photo-files').click()" style="cursor: pointer;">
                  <div class="upload-icon">📷</div>
                  <div class="upload-text">
                    <strong>Click to select files</strong> or drag and drop
                    <br><small>JPG, PNG, GIF, MP4 up to 10MB each</small>
                  </div>
                  <input type="file" id="photo-files" name="files" multiple accept="image/*,video/*" style="display: none;">
                </div>
                <div id="file-preview" class="file-preview"></div>
                <small class="upload-help">Select multiple files at once. You can review and remove files before uploading.</small>
              </div>
            </div>
            
            <div class="form-group">
              <label for="photo-description">Description (Optional)</label>
              <textarea id="photo-description" name="description" placeholder="Describe the moment or add a caption..." rows="3"></textarea>
            </div>
            
            <div class="form-group">
              <label for="photo-category">Category</label>
              <select id="photo-category" name="category">
                <option value="ceremony">Ceremony</option>
                <option value="reception">Reception</option>
                <option value="dancing">Dancing</option>
                <option value="candid">Candid Moments</option>
                <option value="group">Group Photos</option>
                <option value="other">Other</option>
              </select>
            </div>
            
            <div class="form-actions">
              <button type="submit" class="btn btn--primary" id="photo-submit-btn">Share Photo 📷</button>
              <button type="button" class="btn btn--ghost modal-close-btn">Cancel</button>
            </div>
          </form>
          
          <div class="photo-success" id="photo-success" style="display: none;">
            <div class="success-icon">📷</div>
            <h3>Photo Shared!</h3>
            <p>Thank you for sharing your memories with us!</p>
            <button class="btn btn--primary modal-close-btn">Close</button>
          </div>
        </div>
      </div>
      
      <!-- Gallery Tab -->
      <div id="gallery-tab" class="tab-content">
        <div class="modal__header">
          <h2>Wedding Photo Gallery</h2>
          <button class="modal__close" aria-label="Close gallery" tabindex="0">&times;</button>
        </div>
        
        <div class="modal__body">
          <!-- Gallery Filters -->
          <div class="gallery-filters">
            <button class="filter-btn active" onclick="filterGallery('all')">All</button>
            <button class="filter-btn" onclick="filterGallery('ceremony')">Ceremony</button>
            <button class="filter-btn" onclick="filterGallery('reception')">Reception</button>
            <button class="filter-btn" onclick="filterGallery('dancing')">Dancing</button>
            <button class="filter-btn" onclick="filterGallery('candid')">Candid</button>
            <button class="filter-btn" onclick="filterGallery('group')">Group</button>
          </div>
          
          <!-- Gallery Grid -->
          <div id="gallery-grid" class="gallery-grid">
            <div class="gallery-loading">Loading photos...</div>
          </div>
          
          <!-- Gallery Stats -->
          <div class="gallery-stats" id="gallery-stats">
            <span id="photo-count">0 photos</span> • 
            <span id="contributor-count">0 contributors</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Photo Lightbox -->
  <div id="photo-lightbox" class="lightbox" style="display: none;">
    <div class="lightbox-backdrop" onclick="closeLightbox()"></div>
    <div class="lightbox-content">
      <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
      <button class="lightbox-prev" onclick="navigateLightbox(-1)">‹</button>
      <button class="lightbox-next" onclick="navigateLightbox(1)">›</button>
      <div class="lightbox-media">
        <img id="lightbox-image" src="" alt="Gallery image" style="display: none;" loading="lazy" decoding="async">
        <video id="lightbox-video" controls style="display: none;"></video>
      </div>
      <div class="lightbox-info">
        <div class="lightbox-description" id="lightbox-description"></div>
        <div class="lightbox-meta">
          <span id="lightbox-contributor"></span> • 
          <span id="lightbox-category"></span> • 
          <span id="lightbox-date"></span>
        </div>
      </div>
    </div>
  </div>

  <!-- Song Request Modal -->
  <div id="song-modal" class="modal" role="dialog" aria-labelledby="song-modal-title" aria-hidden="true">
    <div class="modal__backdrop"></div>
    <div class="modal__content">
      <div class="modal__header">
        <h2 id="song-modal-title">Request a Song</h2>
        <button class="modal__close" aria-label="Close song request form" tabindex="0">&times;</button>
      </div>
      
      <div class="modal__body">
        <p class="modal__intro">Tell our DJ a track that will get you dancing! Help us create the perfect playlist for our special day.</p>
        
        <form class="song-form" id="song-form">
          <div class="form-group">
            <label for="song-requester-name">Your Name *</label>
            <input type="text" id="song-requester-name" name="name" required placeholder="Enter your name">
          </div>
          
          <div class="form-group">
            <label for="song-requester-email">Email Address *</label>
            <input type="email" id="song-requester-email" name="email" required placeholder="your.email@example.com">
          </div>
          
          <div class="form-group">
            <label for="song-title">Song Title *</label>
            <input type="text" id="song-title" name="song_title" required placeholder="Enter the song title">
          </div>
          
          <div class="form-group">
            <label for="artist-name">Artist Name *</label>
            <input type="text" id="artist-name" name="artist_name" required placeholder="Enter the artist name">
          </div>
          
          <div class="form-group">
            <label for="song-genre">Genre (Optional)</label>
            <select id="song-genre" name="genre">
              <option value="">Select genre...</option>
              <option value="afrobeats">Afrobeats</option>
              <option value="amapiano">Amapiano</option>
              <option value="classic-rb">Classic R&B</option>
              <option value="highlife">Highlife</option>
              <option value="hip-hop">Hip Hop</option>
              <option value="pop">Pop</option>
              <option value="reggae">Reggae</option>
              <option value="gospel">Gospel</option>
              <option value="other">Other</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="song-reason">Why this song? (Optional)</label>
            <textarea id="song-reason" name="reason" placeholder="Tell us why this song is special or will get everyone dancing..." rows="3"></textarea>
          </div>
          
          <div class="form-actions">
            <button type="submit" class="btn btn--primary">Submit Song Request 🎵</button>
            <button type="button" class="btn btn--ghost modal-close-btn">Cancel</button>
          </div>
        </form>
        
        <div class="song-success" id="song-success" style="display: none;">
          <div class="success-icon">🎵</div>
          <h3>Song Added!</h3>
          <p>Thanks for the song request! Our DJ will add it to the playlist.</p>
          <button class="btn btn--primary modal-close-btn">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- RSVP Modal -->
  <div id="rsvp-modal" class="modal" role="dialog" aria-labelledby="modal-title" aria-hidden="true">
    <div class="modal__backdrop"></div>
    <div class="modal__content">
      <div class="modal__header">
        <h2 id="modal-title">RSVP for Our Wedding</h2>
        <button class="modal__close" aria-label="Close RSVP form" tabindex="0">&times;</button>
      </div>
      
      <div class="modal__body">
        <p class="modal__intro">We're so excited to celebrate with you! Please let us know if you can join us.</p>
        
        <form class="rsvp-form" id="rsvp-form">
          <div class="form-group">
            <label for="guest-name">Your Name *</label>
            <input type="text" id="guest-name" name="name" required placeholder="Enter your full name">
          </div>
          
          <div class="form-group">
            <label for="guest-email">Email Address *</label>
            <input type="email" id="guest-email" name="email" required placeholder="your.email@example.com">
          </div>
          
          <div class="form-group">
            <label for="guest-phone">Phone Number</label>
            <input type="tel" id="guest-phone" name="phone" placeholder="Enter your phone number">
          </div>
          
          <div class="form-group">
            <label for="attendance">Will you be attending? *</label>
            <select id="attendance" name="attendance" required>
              <option value="">Please select...</option>
              <option value="yes">Yes, I'll be there! 🎉</option>
              <option value="no">Sorry, I can't make it 😔</option>
            </select>
          </div>
          
          <div class="form-group" id="guest-count-group" style="display: none;">
            <label for="guest-count">Number of Guests (including yourself)</label>
            <select id="guest-count" name="guest_count">
              <option value="1">Just me</option>
              <option value="2">2 people</option>
              <option value="3">3 people</option>
              <option value="4">4 people</option>
            </select>
          </div>
          
          <div class="form-group" id="guest-names-group" style="display: none;">
            <label for="guest-names">Names of Additional Guests</label>
            <textarea id="guest-names" name="guest_names" placeholder="Please list the names of your additional guests..." rows="3"></textarea>
          </div>
          
          <div class="form-group" id="dietary-group" style="display: none;">
            <label for="dietary">Dietary Requirements</label>
            <textarea id="dietary" name="dietary" placeholder="Any allergies, dietary restrictions, or special requirements..." rows="3"></textarea>
          </div>
          

          
          <div class="form-actions">
            <button type="submit" class="btn btn--primary">Submit RSVP 💕</button>
            <button type="button" class="btn btn--ghost modal-close-btn">Cancel</button>
          </div>
        </form>
        
        <div class="rsvp-success" id="rsvp-success" style="display: none;">
          <div class="success-icon">🎉</div>
          <h3>Thank You!</h3>
          <p>Your RSVP has been received. We can't wait to celebrate with you!</p>
          <button class="btn btn--primary modal-close-btn">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Browser compatibility check
    if (!window.fetch || !window.Promise || !window.addEventListener) {
      document.body.innerHTML = '<div style="padding: 20px; text-align: center; font-family: Arial, sans-serif;"><h2>Browser Not Supported</h2><p>Please upgrade to a modern browser (Chrome, Firefox, Safari, Edge) to view this website.</p></div>';
    }
  </script>
  <script src="script.js"></script>
  <script src="heic-support.js"></script>
  <script src="access-control.js"></script>
  <script>
    // Error handling for resource loading
    window.addEventListener('error', function(e) {
      if (e.target !== window) {
        console.error('Resource failed to load:', e.target.src || e.target.href);
        // Handle CSS loading failure
        if (e.target.tagName === 'LINK') {
          console.warn('CSS file failed to load. Applying basic fallback styles.');
          const fallbackCSS = document.createElement('style');
          fallbackCSS.textContent = 'body{font-family:Arial,sans-serif;margin:0;padding:20px;background:#f9f9f9}';
          document.head.appendChild(fallbackCSS);
        }
      }
    }, true);
  </script>
</body>
</html>